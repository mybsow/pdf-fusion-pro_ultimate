{% extends "base.html" %}

{% block title %}Diviser PDF - Extraire des pages de fichiers PDF{% endblock %}

{% block description %}Divisez vos fichiers PDF par pages ou plages spécifiques. Téléchargez les pages séparément ou en archive ZIP. Simple et efficace.{% endblock %}

{% block content %}
<section class="hero-section">
    <div class="container text-center">
        <h1 class="hero-title">Diviser des fichiers PDF</h1>
        <p class="hero-subtitle">
            Extrayez des pages spécifiques ou divisez votre PDF en plusieurs documents.
        </p>
    </div>
</section>

<div class="tool-container">
    <div class="tool-header">
        <h3><i class="fas fa-cut me-2"></i>Diviser un fichier PDF</h3>
    </div>
    <div class="tool-content">
        <div class="upload-zone-pro" id="splitUploadZone">
            <div class="upload-inner">
                <div class="upload-icon"><i class="fas fa-file-pdf"></i></div>
                <h4 class="upload-title">Déposez votre fichier PDF</h4>
                <p class="upload-subtitle">Glissez-déposez ou cliquez pour parcourir</p>
                <div class="upload-info">Taille max : 50MB</div>
            </div>
            <input type="file" id="splitFileInput" accept=".pdf" hidden>
        </div>

        <div class="file-list" id="splitFileInfo"></div>
        <div class="preview-container d-flex flex-wrap mt-3" id="splitPreviewGrid"></div>

        <div class="action-buttons mt-3">
            <button class="btn btn-primary btn-lg" id="splitButton" disabled>
                <i class="fas fa-cut me-2"></i>Diviser le PDF
            </button>
            <button class="btn btn-success btn-lg" id="splitZipButton" disabled>
                <i class="fas fa-file-archive me-2"></i>Télécharger en ZIP
            </button>
            <button class="btn btn-outline btn-lg" id="splitClearButton">
                <i class="fas fa-redo me-2"></i>Réinitialiser
            </button>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/components/upload.js') }}"></script>
<script src="{{ url_for('static', filename='js/pages/split-pdf.js') }}"></script>
<script>
UploadManager.init({
    id: 'split',
    multiple: false,
    maxSizeMB: 50,
    onChange: (files) => {
        const disabled = files.length === 0;
        document.getElementById('splitButton').disabled = disabled;
        document.getElementById('splitZipButton').disabled = disabled;
    }
});
document.getElementById('splitClearButton').addEventListener('click', () => {
    UploadManager.clearFile('split');
});
</script>
{% endblock %}
