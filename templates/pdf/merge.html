{% extends "base.html" %}

{% block title %}Fusionner PDF - Outil gratuit pour combiner des fichiers PDF{% endblock %}

{% block description %}Fusionnez gratuitement plusieurs fichiers PDF en un seul document organisé. Interface intuitive, rapide et sécurisée. Aucune inscription requise.{% endblock %}

{% block content %}
<section class="hero-section">
    <h1 class="hero-title">Fusionner des fichiers PDF</h1>
    <p class="hero-subtitle">
        Combine plusieurs PDF en un seul document organisé. Simple, rapide et 100% gratuit.
        <br>Vos fichiers ne sont jamais uploadés sur nos serveurs.
    </p>
</section>

<div class="tool-container active">
    <div class="tool-header">
        <h3><i class="fas fa-object-group me-2"></i>Fusionner des fichiers PDF</h3>
        <p class="text-muted mb-0">Glissez-déposez vos PDFs dans l'ordre souhaité</p>
    </div>
    <div class="tool-content">

        <div class="upload-zone-pro" id="mergeUploadZone">
            <div class="upload-inner">
                <div class="upload-icon"><i class="fas fa-cloud-upload-alt"></i></div>
                <h4 class="upload-title">Déposez vos fichiers PDF</h4>
                <p class="upload-subtitle">
                    Glissez-déposez vos fichiers ou
                    <span class="upload-link">cliquez pour parcourir</span>
                </p>
                <div class="upload-info">Maximum 10 fichiers • 50MB chacun</div>
            </div>
            <input type="file" id="mergeFileInput" accept=".pdf" multiple hidden>
        </div>

        <div class="file-list" id="mergeFileList"></div>

        <div class="preview-container d-flex flex-wrap mt-3" id="mergePreviewGrid"></div>

        <div class="action-buttons mt-3">
            <button class="btn btn-primary btn-lg" id="mergeButton" disabled>
                <i class="fas fa-magic me-2"></i>Fusionner les PDFs
            </button>
            <button class="btn btn-outline btn-lg" id="mergeClearButton">
                <i class="fas fa-trash me-2"></i>Effacer la liste
            </button>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/components/upload.js') }}"></script>
<script src="{{ url_for('static', filename='js/pages/merge-pdf.js') }}"></script>
<script>
UploadManager.init({
    id: 'merge',
    multiple: true,
    maxFiles: 10,
    maxSizeMB: 50,
    onChange: (files) => {
        document.getElementById('mergeButton').disabled = files.length === 0;
    }
});
document.getElementById('mergeClearButton').addEventListener('click', () => {
    UploadManager.clearFile('merge');
});
</script>
{% endblock %}
