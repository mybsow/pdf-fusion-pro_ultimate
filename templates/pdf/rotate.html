{% extends "base.html" %}

{% block title %}Tourner PDF - PDF Fusion Pro{% endblock %}
{% block description %}Corrigez l'orientation de vos fichiers PDF en quelques clics.{% endblock %}

{% block content %}
<section class="hero-section text-center">
    <h1>Tourner un PDF</h1>
    <p>Déposez votre fichier PDF et choisissez l’angle de rotation.</p>
</section>

<div class="tool-container">
    <div class="upload-zone-pro" id="rotateUploadZone" data-info-id="rotateFileInfo" data-btn-id="rotateButton">
        <div class="upload-inner">
            <div class="upload-icon"><i class="fas fa-cloud-upload-alt"></i></div>
            <h4 class="upload-title">Déposez votre PDF ici</h4>
            <p class="upload-subtitle">Glissez-déposez votre fichier ou cliquez pour parcourir</p>
            <div class="upload-info">PDF uniquement • Taille max : 50MB</div>
        </div>
        <input type="file" accept=".pdf" style="display:none;">
    </div>

    <div id="rotateFileInfo" class="file-list"></div>
    <div class="upload-thumbnails" id="mergeThumbnails"></div>

    <div class="row mt-3">
        <div class="col-md-6">
            <label>Pages à tourner</label>
            <input type="text" id="rotatePages" class="form-control" placeholder="Ex: 1,3-5 ou 'all' pour toutes">
            <small class="text-muted">Format: numéros séparés par des virgules, plages avec tiret. Ex: "1,3-5"</small>
        </div>
        <div class="col-md-6">
            <label>Angle de rotation</label>
            <div class="btn-group w-100" role="group">
                <input type="radio" class="btn-check" name="rotateAngle" id="angle90" value="90" checked>
                <label class="btn btn-outline-primary" for="angle90">90°</label>
                <input type="radio" class="btn-check" name="rotateAngle" id="angle180" value="180">
                <label class="btn btn-outline-primary" for="angle180">180°</label>
                <input type="radio" class="btn-check" name="rotateAngle" id="angle270" value="270">
                <label class="btn btn-outline-primary" for="angle270">270°</label>
                <input type="radio" class="btn-check" name="rotateAngle" id="angleMinus90" value="-90">
                <label class="btn btn-outline-primary" for="angleMinus90">-90°</label>
            </div>
        </div>
    </div>

    <div class="action-buttons mt-3">
        <button class="btn btn-primary btn-lg" id="rotateButton" disabled>
            <i class="fas fa-sync-alt me-2"></i>Tourner le PDF
        </button>
        <button class="btn btn-outline btn-lg" onclick="window.uploadManagers.rotateUploadZone.removeFile(0)">
            <i class="fas fa-redo me-2"></i>Réinitialiser
        </button>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/components/upload.js') }}"></script>
<script src="{{ url_for('static', filename='js/pages/pdf-tools.js') }}"></script>
{% endblock %}
