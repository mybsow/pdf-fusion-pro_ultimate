{% extends "base.html" %}

{% block title %}Compresser PDF - Réduire la taille des fichiers PDF{% endblock %}

{% block description %}Compressez vos fichiers PDF pour réduire leur taille sans perte de qualité.{% endblock %}

{% block content %}
<section class="hero-section">
    <div class="container text-center">
        <h1 class="hero-title">Compresser des fichiers PDF</h1>
    </div>
</section>

<div class="tool-container">
    <div class="upload-zone-pro" id="compressUploadZone">
        <div class="upload-inner">
            <div class="upload-icon"><i class="fas fa-file-pdf"></i></div>
            <h4 class="upload-title">Déposez votre fichier PDF</h4>
            <p class="upload-subtitle">Glissez-déposez ou cliquez pour parcourir</p>
            <div class="upload-info">Taille max : 50MB</div>
        </div>
        <input type="file" id="compressFileInput" accept=".pdf" hidden>
    </div>

    <div class="file-list" id="compressFileInfo"></div>

    <div class="action-buttons mt-3">
        <button class="btn btn-primary btn-lg" id="compressButton" disabled>
            <i class="fas fa-compress-alt me-2"></i>Compresser le PDF
        </button>
        <button class="btn btn-outline btn-lg" id="compressClearButton">
            <i class="fas fa-redo me-2"></i>Réinitialiser
        </button>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/components/upload.js') }}"></script>
<script src="{{ url_for('static', filename='js/pages/compress-pdf.js') }}"></script>
<script>
UploadManager.init({
    id: 'compress',
    multiple: false,
    maxSizeMB: 50,
    onChange: (files) => {
        document.getElementById('compressButton').disabled = files.length === 0;
    }
});
document.getElementById('compressClearButton').addEventListener('click', () => {
    UploadManager.clearFile('compress');
});
</script>
{% endblock %}
